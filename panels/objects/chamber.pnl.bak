V 14
1
LANG:1 0 
PANEL,-1 -1 433 236 N "_3DFace" 4
"$chamberName"
"$node"
"$x"
"$y"
"main()
{
  /*
    string chName = $chamberName; 
    dyn_string chamberMapping, dpes;
    int y = $y;
    int x = $x;
    bool isVisible;
    string dpeBare;
    
    // DebugN(\"Chamber \" + chName + \" loaded.\");
  
    dpGet(chName + \".Mapping:_original.._value\", chamberMapping);
 
    for (int i = 1; i <= dynlen(chamberMapping); i++){ 
        dpes[i] = getSystemName() + \"CAEN/\" + chamberMapping[i];
    }
    // DebugN(\"Adding chamber object:\", \"titleObject_\" + chName);
    // DebugN(\"addSymbol chamberTitle.pnl\", x, y);
    addSymbol(myModuleName(), myPanelName(),\"objects/chamberTitle.pnl\", \"chamberTitle_pnl_Ref_\" + chName,
              makeDynString(\"$title:\" + chName, \"$x:\" + x, \"$y:\" + y), x, y, 0, .95, 1);
    
    dpGet(chName + \".Visibility:_original.._value\", isVisible);
    if (isVisible) {
        y = y + 20;
        for (int i = 1; i <= dynlen(chamberMapping); i++){
            dpeBare = substr(dpes[i], strlen(getSystemName()));
            addSymbol(myModuleName(), myPanelName(), \"objects/channel.pnl\", \"channel_pnl_Ref_\" + chName + \"_\" + dpeBare,
                      makeDynString(\"$chName:\" + chName, \"$dpe:\" + dpes[i], \"$x:\" + x, \"$y:\" + y), x + 2, y, 0, .95, 1);
            y = y + 18;
        }
    }
  
  
  */
  
      string chName = $chamberName;
      string node=$node; 
      dyn_string chamberMappingStrips,chamberMappingDrift;
      dyn_string  dpes;
      dyn_string  dpesAlias;
      string dpeBare;
      int y = $y;
      int x = $x; 
      int counterChannel=1; 
      
       addSymbol(myModuleName(), myPanelName(),\"objects/chamberTitle.pnl\", \"chamberTitle_pnl_Ref_\" + chName,
              makeDynString(\"$title:\" + chName, \"$x:\" + x, \"$y:\" + y), x, y, 0, .95, 1);
      
      
      dpGet(\"N\"+node+\".Mapping.ChannelsTotal.Strips\",chamberMappingStrips);
      dpGet(\"N\"+node+\".Mapping.ChannelsTotal.Drift\",chamberMappingDrift);

        for (int i = 1; i <= dynlen(chamberMappingStrips); i++){ 
            dpGet(\"N\"+i+\".Mapping.\"+chamberMappingStrips[i]+\".Channel\",dpes[counterChannel]);
            dpGet(\"N\"+i+\".Mapping.\"+chamberMappingStrips[i]+\".Alias\",dpesAlias[counterChannel]);
//               dpes[counterChannel] =\"N\"+i\".Mapping.\"+chamberMappingStrips[i]\".Channel\" \"CAEN/\" + chamberMappingStrips[i];
              counterChannel++;        
        }
        
        for (int i = 1; i <= dynlen(chamberMappingDrift); i++){ 
            dpGet(\"N\"+i+\".Mapping.\"+chamberMappingDrift[i]+\".Channel\",dpes[counterChannel]);
            dpGet(\"N\"+i+\".Mapping.\"+chamberMappingDrift[i]+\".Alias\",dpesAlias[counterChannel]);
              counterChannel++;        
        }
        
        
        y = y + 20;
        for (int i = 1; i <= (dynlen(chamberMappingStrips)+dynlen(chamberMappingDrift)); i++){
            dpeBare = substr(dpes[i], strlen(getSystemName()));
            addSymbol(myModuleName(), myPanelName(), \"objects/channel.pnl\", \"channel_pnl_Ref_\" + chName + \"_\" + dpeBare,
                      makeDynString(\"$alias:\"+dpesAlias[i],\"$chName:\" + chName, \"$dpe:\" +\"CAEN/\"+dpes[i], \"$x:\" + x, \"$y:\" + y), x + 2, y, 0, 1, 1);
            y = y + 18;
        }
        
        
  
    
}" 0
 E E E E 1 -1 -1 0  0 0
""0  1
E E 3
"CBRef" "1"
"EClose" E
"dpi" "96"
0 0 0
""
DISPLAY_LAYER, 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0
LAYER, 0 
1
LANG:1 0 
0
LAYER, 1 
1
LANG:1 0 
0
LAYER, 2 
1
LANG:1 0 
0
LAYER, 3 
1
LANG:1 0 
0
LAYER, 4 
1
LANG:1 0 
0
LAYER, 5 
1
LANG:1 0 
0
LAYER, 6 
1
LANG:1 0 
0
LAYER, 7 
1
LANG:1 0 
0
0
